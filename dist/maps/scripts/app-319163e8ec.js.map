{"version":3,"sources":["scripts/app.js"],"names":["angular","module","navBar","$log","NavbarController","$scope","$inject","directive","restrict","templateUrl","scope","playerScore","controller","controllerAs","bindToController","gameManagerRoomData","roomData","anniesOffice","bg","mikesOffice","fransOffice","lobby","breakRoom","characters","annie","startingX","startingY","colliderXoffset","colliderYoffset","width","height","mike","furniture","breakRoom_Poster1","posX","posY","collider_X_offset","collider_Y_offset","breakRoom_Poster2","foldingChair_1","foldingChair_3","foldingChair_2","breakRoom_Table","waterCooler","plant_1","door_top","conferenceRoom","service","gameManagerFurnitureData","furnitureData","annies_whiteBoard","anniesRoomDesk","chair_1","chair_2","chair_3","blueChair_1","blueChair_2","cabinet_1","cabinet_2","clock","coffeeTable","conferenceRoomTable","couch1","couch2","computerDesk_1","doorSide_Left","doorSide_Right","lamp","plant_2","whiteBoard","gameManagerCharacterData","gameCharacterData","animations","standingDown","walkingDown","standingUp","walkingUp","talking","standingSide","walkingSide","standing","mike_surprised","fran","label","charlie","luna","gameManager","addAnimationsToChar","characterDefinition","characterSprite","animationKey","frames","concat","addAnimation","apply","collisionswithFurniture","sprite","collisions","furnitureItem","collide","specialCollision","loadDialogue","vm","main","hideBranchingDialogue","$apply","myCanvas","annieSprite","annie_Walking","mikeSprite","this","walking_Speed","currentRoomKey","room","currentRoomData","currentRoom","setFurniture","item","itemData","image","spriteName","createSprite","setCollider","push","preload","loadImage","setup","frameRate","createCanvas","parent","element","find","draw","background","keyCode","LEFT_ARROW","changeAnimation","mirrorX","velocity","x","y","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","drawSprites","keyPressed","event","keyReleased","p5","dialogueService","$http","linearMike","get","branchingMike","displayDialouge","displayDialougeController","chooseDialogueScript","convosWithMike","then","response","dialogueRoot","data","choice","node1","choice2","node2","choice3","node3","showNode2","node1Hidden","node2Hidden","node3Hidden","node1Response","animationTitle","animation","codeNode2","code","chosenAnnie","PC_Text","npcResponse","NPC_Response","showNode3","node2Response","codeNode3","showNode3Response","showContinue","clickContinue","responseHidden","node3Response","conversationP5Data","conversationP5","positionX","positionY","annie_normal","mike_normal","mike_surprised_mild","mike_surprised_animation","popUpDialogueManager","$element","mikeDialogueSprite","annieDialogueSprite","dialogueCanvas","something","looping","MainController","roomKey","hideLinearDialogue","runBlock","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","otherwise","config","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-319163e8ec.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie', ['ngMessages', 'ngAria', 'ui.router']);\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .directive('navBar', navBar);\r\n\r\n  /** @ngInject */\r\n  function navBar($log) {\r\n    var directive = {\r\n      restrict: 'E',\r\n      templateUrl: 'app/components/navbar/navbar.html',\r\n      scope: {\r\n      //  get variables from elsewhere\r\n          playerScore: '='\r\n      },\r\n      controller: NavbarController,\r\n      controllerAs: 'nav',\r\n      bindToController: true\r\n    };\r\n    return directive;\r\n    \r\n    /** @ngInject */\r\n    function NavbarController($scope) {\r\n      // $log.log($scope);\r\n      // $scope.playerScore = 0;\r\n      \r\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\r\n      // vm.relativeDate = moment(vm.creationDate).fromNow();\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('gameManagerRoomData', gameManagerRoomData);\r\n\r\n\t/** @ngInject */\r\n\tfunction gameManagerRoomData(){\r\n\t\t// jsonFile - might have to be determined by Main controller\r\n\t\tvar roomData = {\r\n\t\t\tanniesOffice: {\r\n\t\t\t\tbg: \"assets/images/rooms/Annie-Room-Bkgd.jpg\"\r\n\t\t\t\t// characters:{\r\n\t\t\t\t// \tannie:{\r\n\t\t\t\t// \t\tstartingPosition: [x,y]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }, \r\n\t\t\t\t// furniture: [plant,desk,side_door,chair,whiteboard],\r\n\t\t\t},\t\t\t\r\n\t\t\tmikesOffice: {\r\n\t\t\t\tbg: \"assets/images/rooms/Mike-Room-Bkgd.jpg\"\r\n\t\t\t\t// characters:{\r\n\t\t\t\t// \tmike:{\r\n\t\t\t\t// \t\tstartingPosition: [x,y]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }, \r\n\t\t\t\t// furniture: {\r\n\t\t\t\t\t// plant_1.posX = \r\n\t\t\t\t\t// [plant,desk,side_door,chair,whiteboard],\r\n\t\t\t\t// }\t\r\n\t\t\t},\r\n\t\t\tfransOffice: {\r\n\t\t\t\tbg: \"assets/images/rooms/Fran-Room-Bkgd.jpg\"\r\n\t\t\t\t// characters:{\r\n\t\t\t\t// \tannie:{\r\n\t\t\t\t// \t\tstartingPosition: [x,y]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }, \r\n\t\t\t\t// furniture: [plant,desk,side_door,chair,whiteboard],\r\n\t\t\t},\r\n\t\t\tlobby: {\r\n\t\t\t\tbg: \"assets/images/rooms/Lobby-Bkgd.jpg\"\r\n\t\t\t\t// characters:{\r\n\t\t\t\t// \tannie:{\r\n\t\t\t\t// \t\tstartingPosition: [x,y]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }, \r\n\t\t\t\t// furniture: [plant,desk,side_door,chair,whiteboard],\r\n\t\t\t},\t\t\t\r\n\t\t\tbreakRoom: {\r\n\t\t\t\tbg: \"assets/images/rooms/Break-Room-Bkgd.jpg\",\r\n\t\t\t\tcharacters:{\r\n\t\t\t\t\tannie:{\r\n\t\t\t\t\t\tstartingX: 800, startingY: 200,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 75,\r\n\t\t\t\t\t\twidth: 60, height: 35\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmike:{\r\n\t\t\t\t\t\tstartingX: 430, startingY: 180,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 60,\r\n\t\t\t\t\t\twidth: 60, height: 60\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfurniture: {\r\n\t\t\t\t\t// add custom colliders possibly\r\n\t\t\t\t\tbreakRoom_Poster1: {\r\n\t\t\t\t\t\tposX: 600, posY: 55,\r\n\t\t\t\t\t\twidth: 90, height: 100,\r\n\t\t\t\t\t\tcollider_X_offset: 0,\r\n\t\t\t\t\t\tcollider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbreakRoom_Poster2: {\r\n\t\t\t\t\t\tposX: 930, posY: 200,\r\n\t\t\t\t\t\twidth: 40, height: 350,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldingChair_1:{ \r\n\t\t\t\t\t\tposX: 600, posY: 200,\r\n\t\t\t\t\t\twidth: 70, height: 90,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldingChair_3:{ //sideways\r\n\t\t\t\t\t\tposX: 100, posY: 205,\r\n\t\t\t\t\t\twidth: 100, height: 150,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldingChair_2:{ //angle\r\n\t\t\t\t\t\tposX: 100, posY: 325,\r\n\t\t\t\t\t\twidth: 80, height: 100,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbreakRoom_Table:{\r\n\t\t\t\t\t\tposX: 250, posY: 200,\r\n\t\t\t\t\t\twidth: 300, height: 110,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: -5\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\twaterCooler:{\r\n\t\t\t\t\t\tposX: 520, posY: 150,\r\n\t\t\t\t\t\twidth: 60, height: 180,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tplant_1:{\r\n\t\t\t\t\t\tposX: 880, posY: 400,\r\n\t\t\t\t\t\twidth: 55, height: 190,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdoor_top:{\r\n\t\t\t\t\t\tposX: 800, posY: 95,\r\n\t\t\t\t\t\twidth: 300, height: 165,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconferenceRoom:{\r\n\t\t\t\tbg: \"assets/images/rooms/Conference-Room-Bkgd.jpg\"\r\n\t\t\t\t// characters:{\r\n\t\t\t\t// \tannie:{\r\n\t\t\t\t// \t\tstartingPosition: [x,y]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }, \r\n\t\t\t\t// furniture: [plant,desk,side_door,chair,whiteboard],\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn roomData;\r\n\t\t// return furnitureData;\r\n\t}\r\n})();\r\n\r\n\r\n// annies_whiteBoard\r\n// anniesRoomDesk\r\n// chair_1\r\n// chair_2\r\n// chair_3\r\n// blueChair_1\r\n// blueChair_2\r\n// breakRoom_Poster1\r\n// breakRoom_Poster2\r\n// breakRoom_Table\r\n// cabinet_1\r\n// cabinet_2\r\n// clock\r\n// coffeeTable\r\n// conferenceRoomTable\r\n// couch1\r\n// couch2\r\n// computerDesk_1\r\n// doorSide_Left\r\n// doorSide_Right\r\n// door_top\r\n// foldingChair_1\r\n// foldingChair_2\r\n// foldingChair_3\r\n// lamp\r\n// plant_1\r\n// plant_2\r\n// waterCooler\r\n// whiteBoard\n(function(){\r\n\t'use strict';\r\n\t\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('gameManagerFurnitureData', gameManagerFurnitureData);\r\n\r\n\t\t/** @ngInject */\r\n\t\tfunction gameManagerFurnitureData(){\r\n\t\t\t// name of furniture must be the same as the furniture object in gameManagerRoom.service\r\n\t\t\tvar furnitureData = {\r\n\t\t\t\tannies_whiteBoard: \"assets/images/rooms/Room_Items/Annie_Room-Board.png\",\r\n\t\t\t\tanniesRoomDesk: \"assets/images/rooms/Room_Items/Annie-Room-Desk.png\",\r\n\t\t\t\tchair_1: \"assets/images/rooms/Room_Items/Beige-Chair1.png\",\r\n\t\t\t\tchair_2: \"assets/images/rooms/Room_Items/Beige-Chair2.png\",\r\n\t\t\t\tchair_3: \"assets/images/rooms/Room_Items/Beige-Chair3.png\",\r\n\t\t\t\tblueChair_1: \"assets/images/rooms/Room_Items/Blue-Chair1.png\",\r\n\t\t\t\tblueChair_2: \"assets/images/rooms/Room_Items/Blue-Chair2.png\",\r\n\t\t\t\tbreakRoom_Poster1: \"assets/images/rooms/Room_Items/Break-Room-Poster1.png\",\r\n\t\t\t\tbreakRoom_Poster2: \"assets/images/rooms/Room_Items/Break-Room-Poster2.png\",\r\n\t\t\t\tbreakRoom_Table: \"assets/images/rooms/Room_Items/Break-Room-Table.png\",\r\n\t\t\t\tcabinet_1: \"assets/images/rooms/Room_Items/Cabinet1.png\",\r\n\t\t\t\tcabinet_2: \"assets/images/rooms/Room_Items/Cabinet2.png\",\r\n\t\t\t\tclock: \"assets/images/rooms/Room_Items/Clock1.png\",\r\n\t\t\t\tcoffeeTable: \"assets/images/rooms/Room_Items/coffee-table.png\",\r\n\t\t\t\tconferenceRoomTable: \"assets/images/rooms/Room_Items/Conference-Room-Table.png\",\r\n\t\t\t\tcouch1: \"assets/images/rooms/Room_Items/Couch1.png\",\r\n\t\t\t\tcouch2: \"assets/images/rooms/Room_Items/Couch2.png\",\r\n\t\t\t\tcomputerDesk_1: \"assets/images/rooms/Room_Items/desk-computer1.png\",\r\n\t\t\t\tdoorSide_Left: \"assets/images/rooms/Room_Items/Door-side-left.png\",\r\n\t\t\t\tdoorSide_Right: \"assets/images/rooms/Room_Items/Door-side-right.png\",\r\n\t\t\t\tdoor_top: \"assets/images/rooms/Room_Items/Door-top.png\",\r\n\t\t\t\tfoldingChair_1: \"assets/images/rooms/Room_Items/Folding-Chair1.png\",\r\n\t\t\t\tfoldingChair_2: \"assets/images/rooms/Room_Items/Folding-Chair2.png\",\r\n\t\t\t\tfoldingChair_3: \"assets/images/rooms/Room_Items/Folding-Chair3.png\",\r\n\t\t\t\tlamp: \"assets/images/rooms/Room_Items/Lamp1.png\",\r\n\t\t\t\tplant_1: \"assets/images/rooms/Room_Items/Plant1.png\",\r\n\t\t\t\tplant_2: \"assets/images/rooms/Room_Items/Plant2.png\",\r\n\t\t\t\twaterCooler: \"assets/images/rooms/Room_Items/Water-Cooler.png\",\r\n\t\t\t\twhiteBoard: \"assets/images/rooms/Room_Items/Whiteboard.png\"\r\n\t\t\t};\r\n\t\t\treturn furnitureData;\r\n\t\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('gameManagerCharacterData', gameManagerCharacterData);\r\n\r\n\t/** @ngInject */\r\n\tfunction gameManagerCharacterData(){\r\n\t\tvar gameCharacterData = {\r\n\t\t\tannie: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"standingDown\": [\"assets/images/Characters/Annie/Annie-dn5.png\"],\r\n\t\t\t\t\t\"walkingDown\": [\"assets/images/Characters/Annie/Annie-dn1.png\", \"assets/images/Characters/Annie/Annie-dn4.png\"],\r\n\t\t\t\t\t\"standingUp\": [\"assets/images/Characters/Annie/Annie-up5.png\"],\r\n\t\t\t\t\t\"walkingUp\": [\"assets/images/Characters/Annie/Annie-up1.png\",\"assets/images/Characters/Annie/Annie-up4.png\"],\r\n\t\t\t\t\t\"talking\": [\"assets/images/Characters/Annie/Annie-StandR.png\"],\r\n\t\t\t\t\t\"standingSide\": [\"assets/images/Characters/Annie/Annie-L5.png\"],\r\n\t\t\t\t\t\"walkingSide\": [\"assets/images/Characters/Annie/Annie-L1.png\",\"assets/images/Characters/Annie/Annie-L4.png\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmike: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"standing\": [\"assets/images/Characters/Mike/Mike-Stand-Angle-Right.png\"],\r\n\t\t\t\t\t// \"talking\": [\"assets/images/Characters/Mike/Mike-Stand-Angle-Left.png\",\"assets/images/Characters/Mike/\"],\r\n\t\t\t\t\t\"mike_surprised\": [\"assets/images/Characters/Mike/Mike-Surprised0001.png\",\"assets/images/Characters/Mike/Mike-Surprised0024.png\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfran: {\r\n\t\t\t\t\tanimations: {\r\n\t\t\t\t\t\t\"label\": [\"assets/images/Characters\"]\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcharlie: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"label\": [\"assets/images/Characters\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tluna: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"label\": [\"assets/images/Characters\"]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn gameCharacterData;\r\n\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.directive('gameManager', gameManager);\r\n\r\n\t/** @ngInject */\r\n\tfunction gameManager(gameManagerCharacterData,gameManagerRoomData, gameManagerFurnitureData, $log){\r\n\t\tvar directive = {\r\n\t\t\trestrict:'E',\r\n\t\t\t// templateUrl: defined in index.route.js file \r\n\t\t\t// link: link,\r\n\t\t\tscope: {\r\n\t\t\t\tmain: \"=\",\r\n\t\t\t\thideBranchingDialogue: \"=\",\r\n\t\t\t\troom: \"=\"  //ng-click &, evaluated but can't be changed, similar to attribute @, if it's missing ?\r\n\t\t\t},\r\n\t\t\tcontroller: controller, //controller for this directive\r\n\t\t\tcontrollerAs:'vm',\r\n\t\t\tbindToController: true\r\n\t\t};\r\n\t\treturn directive;\r\n\r\n\t\t/** @ngInject */\r\n\t\tfunction controller($scope){ //needs to be inside gameManager and have inject before\r\n\t\t\tvar vm = this;\r\n\t\t\t// vm.main.testFunc();\r\n\t\t\tvar myCanvas;\r\n\t\t\tvar bg;\r\n\t\t\tvar walking_Speed = 4;\r\n\t\t\tvar annieSprite, \r\n\t\t\t\t\tannie_Walking;\r\n\t\t\tvar mikeSprite;\r\n\t\t\tvar currentRoomKey = vm.room;\r\n\t\t\tvar currentRoomData = gameManagerRoomData[currentRoomKey];\r\n\t\t\tvar furniture = [];\r\n\r\n\t\t\tvar currentRoom = function(room){\r\n\t\t\t\t/*==============================================\r\n\t\t\t\t\tPreload\r\n\t\t\t\t================================================*/\r\n\t\t\t\troom.preload = function(){\r\n\t\t\t\t\t//image will have to change later on\r\n\t\t\t\t\tbg = room.loadImage(currentRoomData.bg);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/*==============================================\r\n\t\t\t\t\tSetup\r\n\t\t\t\t================================================*/\r\n\t\t\t\troom.setup = function(){\r\n\t\t\t\t\troom.frameRate(30);\r\n\t\t\t\t\tmyCanvas = room.createCanvas(950,500);\r\n\t\t\t\t\tmyCanvas.parent(angular.element.find(\"game-manager\")[0]); // equivalent of $($element)[0]);\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetFurniture(currentRoomData);\r\n\t\t\t\t\t// $log.log(furniture);\r\n\t\t\t\t\t// instantiateCharacters(currentRoomData);\r\n\t\t\t\t\tmikeSprite = room.createSprite(currentRoomData.characters.mike.startingX,currentRoomData.characters.mike.startingY);\r\n\t\t\t\t\tmikeSprite.setCollider(\"rectangle\",currentRoomData.characters.mike.colliderXoffset,currentRoomData.characters.mike.colliderYoffset,currentRoomData.characters.mike.width,currentRoomData.characters.mike.height);\r\n\t\t\t\t\t// mikeSprite.debug = true;\r\n\r\n\t\t\t\t\tannieSprite = room.createSprite(currentRoomData.characters.annie.startingX,currentRoomData.characters.annie.startingY);\r\n\t\t\t\t\tannieSprite.setCollider(\"rectangle\",currentRoomData.characters.annie.colliderXoffset,currentRoomData.characters.annie.colliderYoffset,currentRoomData.characters.annie.width,currentRoomData.characters.annie.height);\r\n\t\t\t\t\t// annieSprite.debug = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*====================\r\n\t\t\t\t\t\tAdd animations  --> will change to add characters\r\n\r\n\t\t\t\t\t\tCall function that adds all of the animations and takes in the character data from the service\r\n\t\t\t\t\t\tand the characterSprite as parameters\r\n\t\t\t\t\t======================*/\r\n\t\t\t\t\taddAnimationsToChar(gameManagerCharacterData.mike, mikeSprite);\r\n\t\t\t\t\taddAnimationsToChar(gameManagerCharacterData.annie, annieSprite);\r\n\t\t\t\t}; //end of setup\r\n\r\n\t\t\t\t/*==============================================\r\n\t\t\t\t\tDraw\r\n\t\t\t\t================================================*/\r\n\t\t\t\troom.draw = function(){\r\n\t\t\t\t\troom.background(bg);\r\n\t\t\t\t\tcollisionswithFurniture(annieSprite,furniture);\r\n\t\t\t\t\tannieSprite.collide(mikeSprite, loadDialogue);\r\n\t\t\t\t\tif(annie_Walking === true){\r\n\t\t\t\t\t\t// $log.log(annieSprite.position.x);\r\n\t\t\t\t\t\tif(room.keyCode == room.LEFT_ARROW /*&& annieSprite.position.x >= 70 && annieSprite.position.x <= 900*/){ //walk left\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(1);\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = -walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = 0;\r\n\t\t\t\t\t\t} else if (room.keyCode == room.RIGHT_ARROW /*PosX+(Width/2) < width*/) { //walk right\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(-1);\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = 0;\r\n\t\t\t\t\t\t}else if (room.keyCode == room.UP_ARROW /*PosY + (Width/2) < topNav*/){ //walk up, away from the player\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingUp\");\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = -walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = 0;\r\n\t\t\t\t\t\t}else if (room.keyCode == room.DOWN_ARROW /* PosY+(Height/2) < height*/){ //walk down, towards the player\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingDown\");\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t//if not walking or out of bounds, draw standing image\r\n\t\t\t\t\t}\telse if(annie_Walking === false){ \r\n\t\t\t\t\t\t\tannieSprite.velocity.x = 0; //Stop annie from walking\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = 0;\r\n\t\t\t\t\t\tif(room.keyCode == room.LEFT_ARROW){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(1);\r\n\t\t\t\t\t\t}else if(room.keyCode == room.RIGHT_ARROW){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(-1);\r\n\t\t\t\t\t\t}else if(room.keyCode == room.UP_ARROW){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingUp\");\r\n\t\t\t\t\t\t}else if(room.keyCode == room.DOWN_ARROW ){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingDown\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\troom.drawSprites();\r\n\t\t\t\t}; //end of draw \r\n\r\n\t\t\t\t// Check to see if a keys were pressed\r\n\t\t\t\troom.keyPressed = function(event){\r\n\t\t\t\t\t// $log.log(annieSprite.position.x);\r\n\t\t\t\t\tannie_Walking = true;\r\n\t\t\t\t\t//  event.preventDefault();\r\n\t\t\t\t\t// event.returnValue = false;\r\n\t\t\t\t\t// return false;\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t// Check when key is released and stop walking\r\n\t\t\t\troom.keyReleased = function(event){\r\n\t\t\t\t\t// $log.log(event);\r\n\t\t\t\t\tannie_Walking = false;\r\n\t\t\t\t\t// \t event.preventDefault();\r\n\t\t\t\t\t// event.returnValue = false;\r\n\t\t\t\t\t// return false;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//position and create furniture, need to use room so function has to be in a different scope\r\n\t\t\t\tfunction setFurniture(currentRoom) {\r\n\t\t\t\t\tfor(var item in currentRoomData.furniture){\r\n\t\t\t\t\t\tvar itemData = [item];\r\n\t\t\t\t\t\titemData = itemData.concat(currentRoomData.furniture[item].image);\r\n\t\t\t\t\t\tvar spriteName = item+\"Sprite\";\r\n\t\t\t\t\t\tspriteName = room.createSprite(currentRoomData.furniture[item].posX, currentRoomData.furniture[item].posY);\r\n\t\t\t\t\t\tspriteName.setCollider(\"rectangle\",currentRoomData.furniture[item].collider_X_offset,currentRoomData.furniture[item].collider_Y_offset,currentRoomData.furniture[item].width,currentRoomData.furniture[item].height);\r\n\t\t\t\t\t\tspriteName.addAnimation(item, gameManagerFurnitureData[item]);\r\n\t\t\t\t\t\t// spriteName.debug = true;\r\n\t\t\t\t\t\t// furnitureSprite.setCollider for specific colliders\r\n\t\t\t\t\t\tfurniture.push(spriteName);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}; //end of current room object\r\n\r\n\t\t\t// Create p5 object\r\n\t\t\tvar myp5 = new p5(currentRoom);\r\n\r\n\r\n\t\t\t/*==============================================\r\n\t\t\t\tFunctions with no room dependencies\r\n\t\t\t================================================*/\r\n\r\n\t\t\t//Char def is from service\r\n\t\t\tfunction addAnimationsToChar(characterDefinition, characterSprite) {\r\n\t\t\t\tfor(var animationKey in characterDefinition.animations){\r\n\t\t\t\t\tvar frames = [animationKey];\r\n\t\t\t\t\tframes = frames.concat(characterDefinition.animations[animationKey]);\r\n\t\t\t\t\tcharacterSprite.addAnimation.apply(animationKey, frames);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Check for collisions with furniture\r\n\t\t\tfunction collisionswithFurniture(sprite,collisions){\r\n\t\t\t\tfor(var furnitureItem in collisions){\r\n\t\t\t\t\t\tsprite.collide(collisions[furnitureItem],specialCollision(collisions[furnitureItem]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If collided with a door, then load level and check game stats\r\n\t\t\tfunction specialCollision(sprite){\r\n\t\t\t\t// if(sprite.getAnimationLabel() == \"door_top\"){\r\n\t\t\t\t// \t$log.log(sprite);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\r\n\t\t\t// Create characters in the room\r\n\t\t\tfunction instantiateCharacters(currentRoom){\r\n\t\t\t\t// for(var character in gameManagerCharacterData.currentRoom.characters){\r\n\t\t\t\t// \t\t// $log.log(character);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t\t// Show Dialogue\r\n\t\t\tfunction loadDialogue(){\r\n\t\t\t\t// $log.log(\"Collision with Mike!\");\r\n\t\t\t\tvm.main.hideBranchingDialogue = false;\r\n\t\t\t\t$scope.$apply();  //In case html isn't updating and variable is\r\n\t\t\t}\r\n\t\t} //end of controller\r\n\t} //end of game manager/file\r\n})();\r\n\t\t// function link(scope, element, attrs, ctlr){\r\n\t\t// \t// $log.log(ctlr.hello);\r\n\t\t// \t//$log.log(element.find(\"canvas\"));\r\n\t\t// \tvar canvas = element.find(\"canvas\");\r\n\t\t// \tcanvas.css(\"background\", \"black\");\r\n\t\t// }\n(function(){\r\n\t'use strict';\r\n\t\r\n\tangular.module('awkwardAnnie')\r\n\t.service('dialogueService', dialogueService);\r\n\r\n\t/** @ngInject */\r\n\tfunction dialogueService($http){\r\n\t\tvar service = this;\r\n\r\n\t\tservice.linearMike = function(){\r\n\t\t\treturn $http.get('assets/json/linear_mike_greeting.json');\t\r\n\t\t};\r\n\r\n\t\tservice.branchingMike = function(){\r\n\t\t\treturn $http.get('assets/json/D1.MM.Grt.1.json');\t\r\n\t\t};\r\n\r\n\t\t// var dialogueData;\r\n\t\t//return everything and have the controller .then()\r\n\t\t//will have to change based on what character is bumped into\r\n\t\t\t// var dialogueData =\t$http.get('assets/json/D1.FF.ST.C2.json');\t\t\r\n\t\t// }\r\n\t\t// return dialogueData;\r\n\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.directive('displayDialouge', displayDialouge);\r\n\r\n\t/** @ngInject */\r\n\tfunction displayDialouge(dialogueService, $log){ //$log parameter goes in here\r\n\t\tvar directive = {\r\n\t\t\trestrict: 'E',\r\n\t\t\ttemplateUrl: 'app/components/dialogueManager/dialogueManager.html',\r\n\t\t\tcontroller: displayDialougeController,\r\n\t\t\tscope: {\r\n\t\t\t\tmain: \"=\",\r\n\t\t\t\tconvosWithMike: \"=\",\r\n\t\t\t\thideBranchingDialogue: \"=\"\r\n\t\t\t},\r\n\t\t\tcontrollerAs: 'vm',\r\n\t\t\tbindToController: true\r\n\t\t};\r\n\r\n\t\treturn directive;\r\n\t\t/** @ngInject */\r\n\t\tfunction displayDialougeController(){\r\n\t\t\tvar vm = this;\r\n\t\t\tvar dialogueRoot;\r\n\t\t\tvar codeNode2;\r\n\t\t\tvm.chosenAnnie = \"\";\r\n\t\t\tvm.npcResponse = \"\";\r\n\t\t\tvm.showContinue = false;\r\n\t\t\tvm.node1Hidden = false;\r\n\t\t\tvm.node2Hidden = true;\r\n\t\t\tvm.node3Hidden = true;\r\n\t\t\tvm.responseHidden = true; //hide choice initially\r\n\t\t\tvm.node3Response = true;\r\n\t\t\t// vm.hasAnimation = hasAnimation;\r\n\t\t\tvm.clickContinue = clickContinue; \r\n\t\t\tvm.showNode2 = showNode2;\r\n\t\t\tvm.showNode3 = showNode3;\r\n\t\t\tvm.showNode3Response = showNode3Response;\r\n\r\n\t\t\tchooseDialogueScript();\r\n\r\n\t\t\t \r\n\t\t/*\r\n\t\t\tFunctions\r\n\t\t*/\r\n\t\t\tfunction chooseDialogueScript(){\r\n\t\t\t\t// $log.log( \"mike score \"+ vm.main.convosWithMike);\r\n\t\t\t\tif(vm.main.convosWithMike == 0){\r\n\t\t\t\t\t//Get linear conversation data for Mike\r\n\t\t\t\t\tdialogueService.linearMike().then(function(response){\r\n\t\t\t\t\t\t\tdialogueRoot = response.data;\r\n\t\t\t\t\t\t\tvm.choice = dialogueRoot.node1;\r\n\t\t\t\t\t\t\tvm.choice2 = dialogueRoot.node2;\r\n\t\t\t\t\t\t\tvm.choice3 = dialogueRoot.node3;\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(vm.main.convosWithMike >= 1){\r\n\t\t\t\t\t//Get branching conversation data\r\n\t\t\t\t\tdialogueService.branchingMike().then(function(response){\r\n\t\t\t\t\t\tdialogueRoot = response.data;\r\n\t\t\t\t\t\tvm.choice = dialogueRoot.node1;\r\n\t\t\t\t\t\tvm.choice2 = dialogueRoot.node2;\r\n\t\t\t\t\t\tvm.choice3 = dialogueRoot.node3;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}//function\r\n\r\n\t\t\tfunction showNode2(choice){  // Hide previous button\r\n\t\t\t\tvm.node1Hidden = true;\r\n\t\t\t\tvm.node2Hidden = false; //show if choice is clicked\r\n\t\t\t\tvm.node3Hidden = true;\r\n\t\t\t\tvm.node1Response = choice;\r\n\t\t\t\t// $log.log(choice);\r\n\t\t\t\tvm.main.animationTitle = choice.animation;\r\n\t\t\t\t// hasAnimation(choice);\r\n\t\t\t\tcodeNode2 = choice.code;\r\n\t\t\t\tvm.choice2 = dialogueRoot.node2[codeNode2]; //data needed to pull up choices\r\n\r\n\t\t\t\tvm.chosenAnnie = choice.PC_Text;\r\n\t\t\t\tvm.npcResponse = choice.NPC_Response;\r\n\t\t\t}//end of showNode2\r\n\r\n\t\t\tfunction showNode3(choice){\r\n\t\t\t\tvm.node3Hidden = false; //show choice if clicked\r\n\t\t\t\tvm.node2Hidden = true;\r\n\r\n\t\t\t\tvm.node2Response = choice;\r\n\t\t\t\tvar codeNode3 = choice.code;\r\n\t\t\t\tvm.choice3 = dialogueRoot.node3[codeNode3];\r\n\t\t\t\t// $log.log(choice);\r\n\t\t\t\tvm.main.animationTitle = choice.animation;\r\n\t\t\t\t// hasAnimation(choice);\r\n\t\t\t\tvm.chosenAnnie = choice.PC_Text;\r\n\t\t\t\tvm.npcResponse = choice.NPC_Response;\r\n\t\t\t}//end of showNode3\r\n\t\t\t\r\n\t\t\tfunction showNode3Response(choice){ //choice parameter\r\n\t\t\t\tvm.node3Hidden = true;\r\n\t\t\t\t// $log.log(choice);\r\n\t\t\t\tvm.main.animationTitle = choice.animation;\r\n\t\t\t\t// hasAnimation(choice);\r\n\t\t\t\tvm.chosenAnnie = choice.PC_Text;\r\n\t\t\t\tvm.npcResponse = choice.NPC_Response;\r\n\t\t\t\tvm.showContinue = true;\r\n\t\t\t}\r\n\t\t\tfunction clickContinue(){\r\n\t\t\t\tvm.main.hideBranchingDialogue = true;\r\n\t\t\t\tvm.chosenAnnie = \"\";\r\n\t\t\t\tvm.npcResponse = \"\";\r\n\t\t\t\tvm.node1Hidden = false;\r\n\t\t\t\tvm.node2Hidden = true;\r\n\t\t\t\tvm.node3Hidden = true;\r\n\t\t\t\tvm.responseHidden = true; //hide choice initially\r\n\t\t\t\tvm.node3Response = true;\r\n\t\t\t\tvm.showContinue = false;\r\n\t\t\t\tvm.main.animationTitle = \"\";\r\n\t\t\t\t// Stats\r\n\t\t\t\tvm.main.convosWithMike += 1;\r\n\t\t\t\tvm.main.playerScore += 10; //update score\r\n\t\t\t\t// Reset dialogue\r\n\t\t\t\tchooseDialogueScript();\r\n\t\t\t}\r\n\r\n\t\t\t// function hasAnimation(node){\r\n\t\t\t// \tif(node.animation != \"\"){\r\n\t\t\t// \t\tvm.main.playAnimation(node.animation);\r\n\t\t\t// \t}else(\r\n\t\t\t// \t\tvm.main.playAnimation(\"mike_normal\")\r\n\t\t\t// \t)\r\n\t\t\t// }// end of has\r\n\t\t}//end of controller\r\n\t}\r\n})();\r\n\t\t\t\t\t// dialogueService\r\n\t\t\t\t\t// \t.then(function(response){\t\t\t\r\n\t\t\t\t\t// \t\t// return data as a whole\r\n\t\t\t\t\t// \t\tdialogueRoot = response.data;\r\n\t\t\t\t\t// \t\t// return each node, to load choices dynamically\r\n\t\t\t\t\t// \t\tvm.choice = dialogueRoot.node1;\r\n\t\t\t\t\t// \t\tvm.choice2 = dialogueRoot.node2;\r\n\t\t\t\t\t// \t\tvm.choice3 = dialogueRoot.node3;\r\n\t\t\t\t\t// });\n(function(){\r\n\t'use strict';\r\n\t\r\n\tangular.module('awkwardAnnie')\r\n\t.service('conversationP5Data', conversationP5Data);\r\n\r\n\t/** @ngInject */\r\n\tfunction conversationP5Data(){\r\n\t\t//return everything and have the controller .then()\r\n\t\t//will have to change based on what character is bumped into\r\n\t\tvar conversationP5 = {\r\n\t\t\tannie:{\r\n\t\t\t\tpositionX: 455,\r\n\t\t\t\tpositionY: 310,\r\n\t\t\t\tanimations:{\r\n\t\t\t\t\t\"annie_normal\": [\"assets/images/conversation_items/annie_inset_right.png\"]\r\n\t\t\t\t\t// \"surprisedAnimation\": [],\r\n\t\t\t\t\t// \"confusedAnimation\" :[]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmike:{\r\n\t\t\t\tpositionX: 150,\r\n\t\t\t\tpositionY: 315,\r\n\t\t\t\tanimations:{\r\n\t\t\t\t\t\"mike_normal\": [\"assets/images/conversation_items/Mike/mike_surprised_1.png\"],\r\n\t\t\t\t\t\"mike_surprised_mild\": [\"assets/images/conversation_items/Mike/mike_surprised_14.png\"],\r\n\t\t\t\t\t\"mike_surprised_animation\": [\"assets/images/conversation_items/Mike/mike_surprised_1.png\",\"assets/images/conversation_items/Mike/mike_surprised_0019.png\"]\r\n\t\t\t\t\t// \"confusedAnimation\" :[]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn conversationP5;\r\n\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.directive('popUpDialogueManager', popUpDialogueManager);\r\n\r\n\t/** @ngInject */\r\n\tfunction popUpDialogueManager(conversationP5Data, $log){\r\n\t\tvar directive = {\r\n\t\t\trestrict: \"E\",\r\n\t\t\tcontroller: controller, //controller for this directive\r\n\t\t\tscope:{\r\n\t\t\t\t\"main\": \"=\",\r\n\t\t\t\t\"animationTitle\": \"=\"\r\n\t\t\t},\r\n\t\t\tcontrollerAs:'vm',\r\n\t\t\tbindToController: true\r\n\t\t};\r\n\t\treturn directive;\r\n\t\t/** @ngInject */\r\n\t\tfunction controller($scope, $element){\r\n\t\t\tvar vm = this;\r\n\t\t\tvar myCanvas;\r\n\t\t\tvar mikeDialogueSprite;\r\n\t\t\tvar annieDialogueSprite;\r\n\t\t\t// var bg;\r\n\r\n\t\t\tvar dialogueCanvas = function(something){\r\n\t\t\t\tsomething.preload = function(){\t\r\n\t\t\t\t\t// bg = something.loadImage(\"../assets/canvas.jpg\");\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Service with annie starting pos \r\n\t\t\t\tsomething.setup = function(){\t\t\r\n\t\t\t\t\t// Create canvas\r\n\t\t\t\t\tmyCanvas = something.createCanvas(600,450);\r\n\t\t\t\t\tmyCanvas.parent(angular.element($element)[0]);\r\n\t\t\t\t\tmyCanvas.class(\"convoCanvas\");\r\n\t\t\t\t\tmyCanvas.class(\"itemRight\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Characters\r\n\t\t\t\t\tannieDialogueSprite = something.createSprite(conversationP5Data.annie.positionX,conversationP5Data.annie.positionY);\r\n\t\t\t\t\taddAnimationsToChar(conversationP5Data.annie,annieDialogueSprite);\r\n\r\n\t\t\t\t\tmikeDialogueSprite = something.createSprite(conversationP5Data.mike.positionX,conversationP5Data.mike.positionY);\r\n\t\t\t\t\taddAnimationsToChar(conversationP5Data.mike,mikeDialogueSprite);\r\n\t\t\t\t};\r\n\t\t\t\tsomething.draw = function(){\t\r\n\t\t\t\t\t// something.background(bg);\r\n\t\t\t\t\tsomething.background('#dae7b9');\r\n\t\t\t\t\t// if sprite has animation for the choice, change it\r\n\t\t\t\t\tif(vm.main.animationTitle == \"mike_surprised_mild\"){\r\n\t\t\t\t\t\tmikeDialogueSprite.changeAnimation(\"mike_surprised_mild\");\r\n\t\t\t\t\t}else if(vm.main.animationTitle == \"mike_surprised_animation\"){\r\n\t\t\t\t\t\tmikeDialogueSprite.changeAnimation(\"mike_surprised_animation\");\r\n\t\t\t\t\t\tmikeDialogueSprite.animation.looping = false;\r\n\t\t\t\t\t}else if(vm.main.animationTitle == \"\" || vm.showContinue == true){\r\n\t\t\t\t\t\tmikeDialogueSprite.changeAnimation(\"mike_normal\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Last line\r\n\t\t\t\t\tsomething.drawSprites();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t//Char def is from service\r\n\t\t\tfunction addAnimationsToChar(characterDefinition, characterSprite) {\r\n\t\t\t\t// $log.log(characterDefinition.animations);\r\n\t\t\t\tfor(var animationKey in characterDefinition.animations){\r\n\t\t\t\t\tvar frames = [animationKey];\r\n\t\t\t\t\tframes = frames.concat(characterDefinition.animations[animationKey]);\r\n\t\t\t\t\tcharacterSprite.addAnimation.apply(animationKey, frames);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar newDialogueCanvas = new p5(dialogueCanvas);\r\n\t\t}\r\n\t}\r\n})();\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .controller('MainController', MainController);\r\n\r\n  /** @ngInject */\r\n  function MainController($log) {\r\n    var vm = this;\r\n    vm.animationTitle = \"\";\r\n    // Main controller controls score, what characters were spoken too\r\n    vm.playerScore = 0;\r\n    vm.convosWithMike = 0;\r\n    // Look at gameManagerData for correct names\r\n    vm.roomKey = \"breakRoom\";\r\n    vm.hideLinearDialogue = true;\r\n    // for design purposes this is set to false, switch back to true when done\r\n    vm.hideBranchingDialogue = true;\r\n\r\n    // vm.playAnimation = function(title){\r\n    //   // vm.hideLinearDialogue = false;\r\n    //   vm.animationTitle = title;\r\n    // };\r\n  }\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($log) {\r\n\r\n    $log.debug('runBlock end');\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider, $urlRouterProvider) {\r\n    //remove url later, before release\r\n    // use different controller for welcome screen\r\n    $stateProvider\r\n      .state('home', {\r\n        url: '/',\r\n        templateUrl: 'app/main/main.html',\r\n        controller: 'MainController',\r\n        controllerAs: 'main'\r\n      });\r\n    $stateProvider\r\n      .state('awkwardAnnieGame', {\r\n        url: '/awkwardAnnieGame',\r\n        templateUrl: 'app/components/gameManager/awkwardAnnieGame.html',\r\n        controller: 'MainController',\r\n        controllerAs: 'main'\r\n      });\r\n\r\n    $urlRouterProvider.otherwise('/');\r\n  }\r\n\r\n})();\r\n\n// /* global moment:false */\r\n// (function() {\r\n//   'use strict';\r\n\r\n//   angular\r\n//     .module('awkwardAnnie')\r\n//     .constant('moment', moment);\r\n\r\n// })();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .config(config); //not a router\r\n\r\n  /** @ngInject */\r\n  function config($logProvider) {\r\n    // Enable log\r\n    $logProvider.debugEnabled(true);\r\n  }\r\n})();\r\n\nangular.module(\"awkwardAnnie\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=gameContainer><nav-bar player-score=main.playerScore></nav-bar><div class=intro><a href=#awkwardAnnieGame><div class=\\\"continue bottomRight\\\"></div></a></div></div>\");\n$templateCache.put(\"app/components/dialogueManager/dialogueManager.html\",\"<!-- Dialogue Choices --><div class=playerChoices><div ng-if=\\\"vm.node1Hidden == false\\\"><div class=choices ng-repeat=\\\"choice in vm.choice\\\"><input class=btn type=button name={{choice.code}} value={{choice.PC_Text}} ng-click=vm.showNode2(choice)><br><br></div></div><div ng-if=\\\"vm.node2Hidden == false\\\"><div class=choices ng-repeat=\\\"choice2 in vm.choice2\\\"><input class=btn type=button name={{choice2.code}} value={{choice2.PC_Text}} ng-click=vm.showNode3(choice2)><br><br></div></div><div ng-if=\\\"vm.node3Hidden == false\\\"><div class=choices ng-repeat=\\\"choice3 in vm.choice3\\\"><input class=btn type=button name={{choice3.code}} value={{choice3.PC_Text}} ng-click=vm.showNode3Response(choice3)><br><br></div></div><br><p ng-if=\\\"vm.showContinue == false\\\">Please select one of the options above for what you want Annie to say.</p><div class=continue ng-click=vm.clickContinue() ng-if=\\\"vm.showContinue == true\\\"></div></div><div class=pc-bubble><!-- Annie\\'s bubble --><p>{{vm.chosenAnnie}}</p></div><div class=npc-bubble ng-if=vm.npcResponse><p>{{vm.npcResponse}}</p></div>\");\n$templateCache.put(\"app/components/gameManager/awkwardAnnieGame.html\",\"<!-- Called awkwardAnnieGame.html --><div class=gameContainer><nav-bar player-score=main.playerScore></nav-bar><div class=main-pane><game-manager main=main room=main.roomKey></game-manager><div ng-hide=main.hideBranchingDialogue class=conversationContainer><display-dialouge main=main></display-dialouge><pop-up-dialogue-manager main=main></pop-up-dialogue-manager></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=navbar><a href=#>Awkward Annie</a><ul><li>Score: {{nav.playerScore}} points</li><li>Level: 1 {{nav.levelTracker}}</li></ul></nav>\");}]);"],"sourceRoot":"/source/"}