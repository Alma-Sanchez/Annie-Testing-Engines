{"version":3,"sources":["scripts/app.js"],"names":["angular","module","navBar","$log","NavbarController","$scope","$inject","directive","restrict","templateUrl","scope","playerScore","controller","controllerAs","bindToController","gameManagerRoomData","roomData","anniesOffice","bg","characters","furniture","item1","startingX","startingY","colliderXoffset","colliderYoffset","width","height","item2","mikesOffice","annie","mike","fransOffice","lobby","breakRoom","breakRoom_Poster1","posX","posY","collider_X_offset","collider_Y_offset","breakRoom_Poster2","foldingChair_1","foldingChair_3","foldingChair_2","breakRoom_Table","waterCooler","plant_1","door_top","conferenceRoom","service","gameManagerFurnitureData","furnitureData","annies_whiteBoard","anniesRoomDesk","chair_1","chair_2","chair_3","blueChair_1","blueChair_2","cabinet_1","cabinet_2","clock","coffeeTable","conferenceRoomTable","couch1","couch2","computerDesk_1","doorSide_Left","doorSide_Right","lamp","plant_2","whiteBoard","gameManagerCharacterData","gameCharacterData","animations","standingDown","walkingDown","standingUp","walkingUp","talking","standingSide","walkingSide","standing","mike_surprised","fran","label","charlie","luna","gameManager","addAnimationsToChar","characterDefinition","characterSprite","animationKey","frames","concat","addAnimation","apply","collisionswithFurniture","sprite","collisions","furnitureItem","collide","specialCollision","loadDialogue","vm","main","hideBranchingDialogue","$apply","myCanvas","annieSprite","annie_Walking","mikeSprite","this","walking_Speed","currentRoomKey","room","currentRoomData","currentRoom","setFurniture","item","itemData","image","spriteName","createSprite","setCollider","debug","push","preload","loadImage","setup","log","frameRate","createCanvas","parent","element","find","draw","background","keyCode","LEFT_ARROW","changeAnimation","mirrorX","velocity","x","y","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","drawSprites","keyPressed","event","keyReleased","p5","jsonFiles","D1.CC.STwGr.1","id","D1.FF.Gr.1","D1.FF.RQ.1","D1.FF.ST.1","D1.FF.ST.C2","D1.LL.STwGr.1","D1.MM.Gr.1","D1.MM.RQ.1","D1.MM.ST.1","dialogueService","$http","D1CCSTwGr1","get","D1FFGr1","D1FFRQ1","D1FFST1","D1FFST2","D1LLSTwGr1","D1MMGr1","D1MMRQ1","D1MMST1","displayDialouge","displayDialougeController","optionChanged","jsonSelected","selectedConversation","selectedValue","chooseDialogueScript","fileName","dialogueRoot","choice","choice2","choice3","node1Hidden","node2Hidden","node3Hidden","node3ResponseHidden","node1Response","node2Response","node3Response","then","response","data","node1","node2","node3","showNode2","NPC_Response","codeNode2","code","showNode3","codeNode3","showNode3Response","collection","selectedIndex","list","showContinue","convosWithMike","animationTitle","MainController","roomKey","hideLinearDialogue","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","otherwise","config","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-3956a1b238.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie', ['ngMessages', 'ngAria', 'ui.router']);\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .directive('navBar', navBar);\r\n\r\n  /** @ngInject */\r\n  function navBar($log) {\r\n    var directive = {\r\n      restrict: 'E',\r\n      templateUrl: 'app/components/navbar/navbar.html',\r\n      scope: {\r\n      //  get variables from elsewhere\r\n          playerScore: '='\r\n      },\r\n      controller: NavbarController,\r\n      controllerAs: 'nav',\r\n      bindToController: true\r\n    };\r\n    return directive;\r\n    \r\n    /** @ngInject */\r\n    function NavbarController($scope) {\r\n      // $log.log($scope);\r\n      // $scope.playerScore = 0;\r\n      \r\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\r\n      // vm.relativeDate = moment(vm.creationDate).fromNow();\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('gameManagerRoomData', gameManagerRoomData);\r\n\r\n\t/** @ngInject */\r\n\tfunction gameManagerRoomData(){\r\n\t\t/* Use the breakRoom object as an example, it's further down this file\r\n\t\t\tgame screen dimensions are 950 x 500  (width y height)\r\n\t\t\timages for furniture were defined in gameManager.Furniture.service.js, names of the furniture items is at the bottom but also in gameManagerFurniture.service.js\r\n\t\t\tin case you need the image file name\r\n\t\t\tI think you figured this out, but use commas if you're adding things after\r\n\t\t\tThe green boxes are the colliders, I've turned them on using p5 to make things easier for you. It's okay to use negative numbers if the colliders are too low\r\n\t\t*/\r\n\t\tvar roomData = {\r\n\t\t\tanniesOffice: {\r\n\t\t\t\tbg: \"assets/images/rooms/Annie-Room-Bkgd.jpg\", //comma since there are more items after\r\n\t\t\t\tcharacters: {},\r\n\t\t\t\tfurniture:{ \r\n\t\t\t\t\titem1: { //replace item1 with furniture name \r\n\t\t\t\t\t\tstartingX: 0, startingY: 0, //on the same line to save room\r\n\t\t\t\t\t\tcolliderXoffset: 0, colliderYoffset: 0, //this will depend on the width of the collider, I beleive 0,0 is the center of the image not the corners\r\n\t\t\t\t\t\twidth: 0, height: 0 //this is the width and height of the collider, \r\n\t\t\t\t\t\t//so you can leave this as 0 unless you want to guesstimate where it's okay for Annie can walk into things. \r\n\t\t\t\t\t\t//for instance, she can walk into the conference room legs, but not the actual table. The defualt size is the size of the image.\r\n\t\t\t\t\t\t//Stuff on the wall can be it's regular size\r\n\t\t\t\t\t},\r\n\t\t\t\t\titem2:{\r\n\t\t\t\t\t\tstartingX: 0, startingY: 0,\r\n\t\t\t\t\t\tcolliderXoffset: 0, colliderYoffset: 0,\r\n\t\t\t\t\t\twidth: 0, height: 0\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //last item doesn't need any commas or ;\r\n\t\t\t},\t\t\t\r\n\t\t\tmikesOffice: {\r\n\t\t\t\tbg: \"assets/images/rooms/Mike-Room-Bkgd.jpg\",\r\n\t\tcharacters:{\r\n\t\t\t\t\tannie:{\r\n\t\t\t\t\t\tstartingX: 800, startingY: 200,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 75,\r\n\t\t\t\t\t\twidth: 60, height: 35\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmike:{\r\n\t\t\t\t\t\tstartingX: 430, startingY: 180,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 60,\r\n\t\t\t\t\t\twidth: 60, height: 60\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfurniture: {\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfransOffice: {\r\n\t\t\t\tbg: \"assets/images/rooms/Fran-Room-Bkgd.jpg\",\r\n\t\t\t\tcharacters: {\r\n\t\t\t\t\tannie:{\r\n\t\t\t\t\t\tstartingX: 800, startingY: 200,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 75,\r\n\t\t\t\t\t\twidth: 60, height: 35\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmike:{\r\n\t\t\t\t\t\tstartingX: 430, startingY: 180,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 60,\r\n\t\t\t\t\t\twidth: 60, height: 60\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfurniture:{\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlobby: {\r\n\t\t\t\tbg: \"assets/images/rooms/Lobby-Bkgd.jpg\",\r\n\t\t\t\tcharacters: {},\r\n\t\t\t\tfurniture:{\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbreakRoom: {\r\n\t\t\t\tbg: \"assets/images/rooms/Break-Room-Bkgd.jpg\",\r\n\t\t\t\tcharacters:{\r\n\t\t\t\t\tannie:{\r\n\t\t\t\t\t\tstartingX: 800, startingY: 200,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 75,\r\n\t\t\t\t\t\twidth: 60, height: 35\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmike:{\r\n\t\t\t\t\t\tstartingX: 430, startingY: 180,\r\n\t\t\t\t\t\tcolliderXoffset: -2, colliderYoffset: 60,\r\n\t\t\t\t\t\twidth: 60, height: 60\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfurniture: {\r\n\t\t\t\t\tbreakRoom_Poster1: {\r\n\t\t\t\t\t\tposX: 600, posY: 55,\r\n\t\t\t\t\t\twidth: 90, height: 100,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbreakRoom_Poster2: {\r\n\t\t\t\t\t\tposX: 930, posY: 200,\r\n\t\t\t\t\t\twidth: 40, height: 350,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldingChair_1:{ \r\n\t\t\t\t\t\tposX: 600, posY: 200,\r\n\t\t\t\t\t\twidth: 70, height: 90,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldingChair_3:{ //sideways\r\n\t\t\t\t\t\tposX: 100, posY: 205,\r\n\t\t\t\t\t\twidth: 100, height: 150,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldingChair_2:{ //angle\r\n\t\t\t\t\t\tposX: 100, posY: 325,\r\n\t\t\t\t\t\twidth: 80, height: 100,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbreakRoom_Table:{\r\n\t\t\t\t\t\tposX: 250, posY: 200,\r\n\t\t\t\t\t\twidth: 300, height: 110,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: -5\r\n\t\t\t\t\t},\r\n\t\t\t\t\twaterCooler:{\r\n\t\t\t\t\t\tposX: 520, posY: 150,\r\n\t\t\t\t\t\twidth: 60, height: 180,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tplant_1:{\r\n\t\t\t\t\t\tposX: 880, posY: 400,\r\n\t\t\t\t\t\twidth: 55, height: 190,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdoor_top:{\r\n\t\t\t\t\t\tposX: 800, posY: 95,\r\n\t\t\t\t\t\twidth: 300, height: 165,\r\n\t\t\t\t\t\tcollider_X_offset: 0, collider_Y_offset: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconferenceRoom:{\r\n\t\t\t\tbg: \"assets/images/rooms/Conference-Room-Bkgd.jpg\",\r\n\t\t\t\tcharacters: {},\r\n\t\t\t\tfurniture:{\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn roomData;\r\n\t}\r\n})();\r\n// Name  of furniture items, need to be the same\r\n// annies_whiteBoard\r\n// anniesRoomDesk\r\n// chair_1\r\n// chair_2\r\n// chair_3\r\n// blueChair_1\r\n// blueChair_2\r\n// breakRoom_Poster1\r\n// breakRoom_Poster2\r\n// breakRoom_Table\r\n// cabinet_1\r\n// cabinet_2\r\n// clock\r\n// coffeeTable\r\n// conferenceRoomTable\r\n// couch1\r\n// couch2\r\n// computerDesk_1\r\n// doorSide_Left\r\n// doorSide_Right\r\n// door_top\r\n// foldingChair_1\r\n// foldingChair_2\r\n// foldingChair_3\r\n// lamp\r\n// plant_1\r\n// plant_2\r\n// waterCooler\r\n// whiteBoard\n(function(){\r\n\t'use strict';\r\n\t\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('gameManagerFurnitureData', gameManagerFurnitureData);\r\n\r\n\t\t/** @ngInject */\r\n\t\tfunction gameManagerFurnitureData(){\r\n\t\t\t// name of furniture must be the same as the furniture object in gameManagerRoom.service\r\n\t\t\tvar furnitureData = {\r\n\t\t\t\tannies_whiteBoard: \"assets/images/rooms/Room_Items/Annie_Room-Board.png\",\r\n\t\t\t\tanniesRoomDesk: \"assets/images/rooms/Room_Items/Annie-Room-Desk.png\",\r\n\t\t\t\tchair_1: \"assets/images/rooms/Room_Items/Beige-Chair1.png\",\r\n\t\t\t\tchair_2: \"assets/images/rooms/Room_Items/Beige-Chair2.png\",\r\n\t\t\t\tchair_3: \"assets/images/rooms/Room_Items/Beige-Chair3.png\",\r\n\t\t\t\tblueChair_1: \"assets/images/rooms/Room_Items/Blue-Chair1.png\",\r\n\t\t\t\tblueChair_2: \"assets/images/rooms/Room_Items/Blue-Chair2.png\",\r\n\t\t\t\tbreakRoom_Poster1: \"assets/images/rooms/Room_Items/Break-Room-Poster1.png\",\r\n\t\t\t\tbreakRoom_Poster2: \"assets/images/rooms/Room_Items/Break-Room-Poster2.png\",\r\n\t\t\t\tbreakRoom_Table: \"assets/images/rooms/Room_Items/Break-Room-Table.png\",\r\n\t\t\t\tcabinet_1: \"assets/images/rooms/Room_Items/Cabinet1.png\",\r\n\t\t\t\tcabinet_2: \"assets/images/rooms/Room_Items/Cabinet2.png\",\r\n\t\t\t\tclock: \"assets/images/rooms/Room_Items/Clock1.png\",\r\n\t\t\t\tcoffeeTable: \"assets/images/rooms/Room_Items/coffee-table.png\",\r\n\t\t\t\tconferenceRoomTable: \"assets/images/rooms/Room_Items/Conference-Room-Table.png\",\r\n\t\t\t\tcouch1: \"assets/images/rooms/Room_Items/Couch1.png\",\r\n\t\t\t\tcouch2: \"assets/images/rooms/Room_Items/Couch2.png\",\r\n\t\t\t\tcomputerDesk_1: \"assets/images/rooms/Room_Items/desk-computer1.png\",\r\n\t\t\t\tdoorSide_Left: \"assets/images/rooms/Room_Items/Door-side-left.png\",\r\n\t\t\t\tdoorSide_Right: \"assets/images/rooms/Room_Items/Door-side-right.png\",\r\n\t\t\t\tdoor_top: \"assets/images/rooms/Room_Items/Door-top.png\",\r\n\t\t\t\tfoldingChair_1: \"assets/images/rooms/Room_Items/Folding-Chair1.png\",\r\n\t\t\t\tfoldingChair_2: \"assets/images/rooms/Room_Items/Folding-Chair2.png\",\r\n\t\t\t\tfoldingChair_3: \"assets/images/rooms/Room_Items/Folding-Chair3.png\",\r\n\t\t\t\tlamp: \"assets/images/rooms/Room_Items/Lamp1.png\",\r\n\t\t\t\tplant_1: \"assets/images/rooms/Room_Items/Plant1.png\",\r\n\t\t\t\tplant_2: \"assets/images/rooms/Room_Items/Plant2.png\",\r\n\t\t\t\twaterCooler: \"assets/images/rooms/Room_Items/Water-Cooler.png\",\r\n\t\t\t\twhiteBoard: \"assets/images/rooms/Room_Items/Whiteboard.png\"\r\n\t\t\t};\r\n\t\t\treturn furnitureData;\r\n\t\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('gameManagerCharacterData', gameManagerCharacterData);\r\n\r\n\t/** @ngInject */\r\n\tfunction gameManagerCharacterData(){\r\n\t\tvar gameCharacterData = {\r\n\t\t\tannie: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"standingDown\": [\"assets/images/Characters/Annie/Annie-dn5.png\"],\r\n\t\t\t\t\t\"walkingDown\": [\"assets/images/Characters/Annie/Annie-dn1.png\", \"assets/images/Characters/Annie/Annie-dn4.png\"],\r\n\t\t\t\t\t\"standingUp\": [\"assets/images/Characters/Annie/Annie-up5.png\"],\r\n\t\t\t\t\t\"walkingUp\": [\"assets/images/Characters/Annie/Annie-up1.png\",\"assets/images/Characters/Annie/Annie-up4.png\"],\r\n\t\t\t\t\t\"talking\": [\"assets/images/Characters/Annie/Annie-StandR.png\"],\r\n\t\t\t\t\t\"standingSide\": [\"assets/images/Characters/Annie/Annie-L5.png\"],\r\n\t\t\t\t\t\"walkingSide\": [\"assets/images/Characters/Annie/Annie-L1.png\",\"assets/images/Characters/Annie/Annie-L4.png\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmike: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"standing\": [\"assets/images/Characters/Mike/Mike-Stand-Angle-Right.png\"],\r\n\t\t\t\t\t// \"talking\": [\"assets/images/Characters/Mike/Mike-Stand-Angle-Left.png\",\"assets/images/Characters/Mike/\"],\r\n\t\t\t\t\t\"mike_surprised\": [\"assets/images/Characters/Mike/Mike-Surprised0001.png\",\"assets/images/Characters/Mike/Mike-Surprised0024.png\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfran: {\r\n\t\t\t\t\tanimations: {\r\n\t\t\t\t\t\t\"label\": [\"assets/images/Characters\"]\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcharlie: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"label\": [\"assets/images/Characters\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tluna: {\r\n\t\t\t\tanimations: {\r\n\t\t\t\t\t\"label\": [\"assets/images/Characters\"]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn gameCharacterData;\r\n\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.directive('gameManager', gameManager);\r\n\r\n\t/** @ngInject */\r\n\tfunction gameManager(gameManagerCharacterData,gameManagerRoomData, gameManagerFurnitureData, $log){\r\n\t\tvar directive = {\r\n\t\t\trestrict:'E',\r\n\t\t\t// templateUrl: defined in index.route.js file \r\n\t\t\t// link: link,\r\n\t\t\tscope: {\r\n\t\t\t\tmain: \"=\",\r\n\t\t\t\thideBranchingDialogue: \"=\",\r\n\t\t\t\troom: \"=\"  //ng-click &, evaluated but can't be changed, similar to attribute @, if it's missing ?\r\n\t\t\t},\r\n\t\t\tcontroller: controller, //controller for this directive\r\n\t\t\tcontrollerAs:'vm',\r\n\t\t\tbindToController: true\r\n\t\t};\r\n\t\treturn directive;\r\n\r\n\t\t/** @ngInject */\r\n\t\tfunction controller($scope){ //needs to be inside gameManager and have inject before\r\n\t\t\tvar vm = this;\r\n\t\t\tvar myCanvas;\r\n\t\t\tvar bg;\r\n\t\t\tvar walking_Speed = 4;\r\n\t\t\tvar annieSprite, \r\n\t\t\t\t\tannie_Walking;\r\n\t\t\tvar mikeSprite;\r\n\t\t\tvar currentRoomKey = vm.room;\r\n\t\t\tvar currentRoomData = gameManagerRoomData[currentRoomKey];\r\n\t\t\tvar furniture = [];\r\n\r\n\t\t\tvar currentRoom = function(room){\r\n\t\t\t\t/*==============================================\r\n\t\t\t\t\tPreload\r\n\t\t\t\t================================================*/\r\n\t\t\t\troom.preload = function(){\r\n\t\t\t\t\t//image will have to change later on\r\n\t\t\t\t\tbg = room.loadImage(currentRoomData.bg);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/*==============================================\r\n\t\t\t\t\tSetup\r\n\t\t\t\t================================================*/\r\n\t\t\t\troom.setup = function(){\r\n\t\t\t\t\t$log.log(gameManagerRoomData);\r\n\t\t\t\t\troom.frameRate(30);\r\n\t\t\t\t\tmyCanvas = room.createCanvas(950,500);\r\n\t\t\t\t\tmyCanvas.parent(angular.element.find(\"game-manager\")[0]); // equivalent of $($element)[0]);\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetFurniture(currentRoomData);\r\n\t\t\t\t\t// instantiateCharacters(currentRoomData);\r\n\t\t\t\t\tmikeSprite = room.createSprite(currentRoomData.characters.mike.startingX,currentRoomData.characters.mike.startingY);\r\n\t\t\t\t\tmikeSprite.setCollider(\"rectangle\",currentRoomData.characters.mike.colliderXoffset,currentRoomData.characters.mike.colliderYoffset,currentRoomData.characters.mike.width,currentRoomData.characters.mike.height);\r\n\t\t\t\t\t// mikeSprite.debug = true;\r\n\r\n\t\t\t\t\tannieSprite = room.createSprite(currentRoomData.characters.annie.startingX,currentRoomData.characters.annie.startingY);\r\n\t\t\t\t\tannieSprite.setCollider(\"rectangle\",currentRoomData.characters.annie.colliderXoffset,currentRoomData.characters.annie.colliderYoffset,currentRoomData.characters.annie.width,currentRoomData.characters.annie.height);\r\n\t\t\t\t\tannieSprite.debug = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*====================\r\n\t\t\t\t\t\tAdd animations  --> will change to add characters\r\n\r\n\t\t\t\t\t\tCall function that adds all of the animations and takes in the character data from the service\r\n\t\t\t\t\t\tand the characterSprite as parameters\r\n\t\t\t\t\t======================*/\r\n\t\t\t\t\taddAnimationsToChar(gameManagerCharacterData.mike, mikeSprite);\r\n\t\t\t\t\taddAnimationsToChar(gameManagerCharacterData.annie, annieSprite);\r\n\t\t\t\t}; //end of setup\r\n\r\n\t\t\t\t/*==============================================\r\n\t\t\t\t\tDraw\r\n\t\t\t\t================================================*/\r\n\t\t\t\troom.draw = function(){\r\n\t\t\t\t\troom.background(bg);\r\n\t\t\t\t\tcollisionswithFurniture(annieSprite,furniture);\r\n\t\t\t\t\tannieSprite.collide(mikeSprite, loadDialogue);\r\n\t\t\t\t\tif(annie_Walking === true){\r\n\t\t\t\t\t\t// $log.log(annieSprite.position.x);\r\n\t\t\t\t\t\tif(room.keyCode == room.LEFT_ARROW /*&& annieSprite.position.x >= 70 && annieSprite.position.x <= 900*/){ //walk left\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(1);\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = -walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = 0;\r\n\t\t\t\t\t\t} else if (room.keyCode == room.RIGHT_ARROW /*PosX+(Width/2) < width*/) { //walk right\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(-1);\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = 0;\r\n\t\t\t\t\t\t}else if (room.keyCode == room.UP_ARROW /*PosY + (Width/2) < topNav*/){ //walk up, away from the player\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingUp\");\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = -walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = 0;\r\n\t\t\t\t\t\t}else if (room.keyCode == room.DOWN_ARROW /* PosY+(Height/2) < height*/){ //walk down, towards the player\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"walkingDown\");\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = walking_Speed;\r\n\t\t\t\t\t\t\tannieSprite.velocity.x = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t//if not walking or out of bounds, draw standing image\r\n\t\t\t\t\t}\telse if(annie_Walking === false){ \r\n\t\t\t\t\t\t\tannieSprite.velocity.x = 0; //Stop annie from walking\r\n\t\t\t\t\t\t\tannieSprite.velocity.y = 0;\r\n\t\t\t\t\t\tif(room.keyCode == room.LEFT_ARROW){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(1);\r\n\t\t\t\t\t\t}else if(room.keyCode == room.RIGHT_ARROW){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingSide\");\r\n\t\t\t\t\t\t\tannieSprite.mirrorX(-1);\r\n\t\t\t\t\t\t}else if(room.keyCode == room.UP_ARROW){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingUp\");\r\n\t\t\t\t\t\t}else if(room.keyCode == room.DOWN_ARROW ){\r\n\t\t\t\t\t\t\tannieSprite.changeAnimation(\"standingDown\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\troom.drawSprites();\r\n\t\t\t\t}; //end of draw \r\n\r\n\t\t\t\t// Check to see if a keys were pressed\r\n\t\t\t\troom.keyPressed = function(event){\r\n\t\t\t\t\t// $log.log(annieSprite.position.x);\r\n\t\t\t\t\tannie_Walking = true;\r\n\t\t\t\t\t//  event.preventDefault();\r\n\t\t\t\t\t// event.returnValue = false;\r\n\t\t\t\t\t// return false;\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t// Check when key is released and stop walking\r\n\t\t\t\troom.keyReleased = function(event){\r\n\t\t\t\t\t// $log.log(event);\r\n\t\t\t\t\tannie_Walking = false;\r\n\t\t\t\t\t// \t event.preventDefault();\r\n\t\t\t\t\t// event.returnValue = false;\r\n\t\t\t\t\t// return false;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//position and create furniture, need to use room so function has to be in a different scope\r\n\t\t\t\tfunction setFurniture(currentRoom) {\r\n\t\t\t\t\tfor(var item in currentRoomData.furniture){\r\n\t\t\t\t\t\tvar itemData = [item];\r\n\t\t\t\t\t\titemData = itemData.concat(currentRoomData.furniture[item].image);\r\n\t\t\t\t\t\tvar spriteName = item+\"Sprite\";\r\n\t\t\t\t\t\tspriteName = room.createSprite(currentRoomData.furniture[item].posX, currentRoomData.furniture[item].posY);\r\n\t\t\t\t\t\tspriteName.setCollider(\"rectangle\",currentRoomData.furniture[item].collider_X_offset,currentRoomData.furniture[item].collider_Y_offset,currentRoomData.furniture[item].width,currentRoomData.furniture[item].height);\r\n\t\t\t\t\t\tspriteName.addAnimation(item, gameManagerFurnitureData[item]);\r\n\t\t\t\t\t\tspriteName.debug = true;\r\n\t\t\t\t\t\t// furnitureSprite.setCollider for specific colliders\r\n\t\t\t\t\t\tfurniture.push(spriteName);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}; //end of current room object\r\n\r\n\t\t\t// Create p5 object\r\n\t\t\tvar myp5 = new p5(currentRoom);\r\n\r\n\r\n\t\t\t/*==============================================\r\n\t\t\t\tFunctions with no room dependencies\r\n\t\t\t================================================*/\r\n\r\n\t\t\t//Char def is from service\r\n\t\t\tfunction addAnimationsToChar(characterDefinition, characterSprite) {\r\n\t\t\t\tfor(var animationKey in characterDefinition.animations){\r\n\t\t\t\t\tvar frames = [animationKey];\r\n\t\t\t\t\tframes = frames.concat(characterDefinition.animations[animationKey]);\r\n\t\t\t\t\tcharacterSprite.addAnimation.apply(animationKey, frames);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Check for collisions with furniture\r\n\t\t\tfunction collisionswithFurniture(sprite,collisions){\r\n\t\t\t\tfor(var furnitureItem in collisions){\r\n\t\t\t\t\t\tsprite.collide(collisions[furnitureItem],specialCollision(collisions[furnitureItem]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If collided with a door, then load level and check game stats\r\n\t\t\tfunction specialCollision(sprite){\r\n\t\t\t\t// if(sprite.getAnimationLabel() == \"door_top\"){\r\n\t\t\t\t// \t$log.log(sprite);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\r\n\t\t\t// Create characters in the room\r\n\t\t\tfunction instantiateCharacters(currentRoom){\r\n\t\t\t\t// for(var character in gameManagerCharacterData.currentRoom.characters){\r\n\t\t\t\t// \t\t// $log.log(character);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t\t// Show Dialogue\r\n\t\t\tfunction loadDialogue(){\r\n\t\t\t\tvm.main.hideBranchingDialogue = false;\r\n\t\t\t\t$scope.$apply();  //In case html isn't updating and variable is\r\n\t\t\t}\r\n\t\t} //end of controller\r\n\t} //end of game manager/file\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.service('jsonFiles', jsonFiles);\r\n\r\n\t/** @ngInject */\r\n\tfunction jsonFiles(){ //$log parameter goes in here\r\n\t\tvar service = {\r\n\t\t\t\"D1.CC.STwGr.1\": {\r\n\t\t\t\tlabel: \"D1.CC.STwGr.1\",\r\n\t\t\t\tid: \"D1CCSTwGr1\"\r\n\t\t\t},\r\n\t\t\t\"D1.FF.Gr.1\":{\r\n\t\t\t\tlabel: \"D1.FF.Gr.1\",\r\n\t\t\t\tid: \"D1FFGr1\"\r\n\t\t\t},\r\n\t\t\t\"D1.FF.RQ.1\":{\r\n\t\t\t\tlabel: \"D1.FF.RQ.1\",\r\n\t\t\t\tid: \"D1FFRQ1\"\r\n\t\t\t},\r\n\t\t\t\"D1.FF.ST.1\":{\r\n\t\t\t\tlabel: \"D1.FF.ST.1\",\r\n\t\t\t\tid: \"D1FFST1\"\r\n\t\t\t},\r\n\t\t\t\"D1.FF.ST.C2\":{\r\n\t\t\t\tlabel: \"D1.FF.ST.C\",\r\n\t\t\t\tid: \"D1FFST2\"\r\n\t\t\t},\r\n\t\t\t\"D1.LL.STwGr.1\":{\r\n\t\t\t\tlabel: \"D1.LL.STwG\",\r\n\t\t\t\tid: \"D1LLSTwGr1\"\r\n\t\t\t},\r\n\t\t\t\"D1.MM.Gr.1\":{\r\n\t\t\t\tlabel: \"D1.MM.Gr.1\",\r\n\t\t\t\tid: \"D1MMGr1\"\r\n\t\t\t},\r\n\t\t\t\"D1.MM.RQ.1\":{\r\n\t\t\t\tlabel: \"D1.MM.RQ.1\",\r\n\t\t\t\tid: \"D1MMRQ1\"\r\n\t\t\t},\r\n\t\t\t\"D1.MM.ST.1\":{\r\n\t\t\t\tlabel: \"D1.MM.ST.1\",\r\n\t\t\t\tid: \"D1MMST1\"\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn service;\r\n\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\t\r\n\tangular.module('awkwardAnnie')\r\n\t.service('dialogueService', dialogueService);\r\n\r\n\t/** @ngInject */\r\n\tfunction dialogueService($http){\r\n\t\tvar service = this;\r\n\t\tservice.D1CCSTwGr1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.CC.STwGr.1.json');\r\n\t\t};\r\n\t\tservice.D1FFGr1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.FF.Gr.1.json');\r\n\t\t};\r\n\t\tservice.D1FFRQ1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.FF.RQ.1.json');\r\n\t\t};\r\n\t\tservice.D1FFST1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.FF.ST.1.json');\r\n\t\t};\r\n\t\tservice.D1FFST2 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.FF.ST.C2.json');\r\n\t\t};\r\n\t\tservice.D1LLSTwGr1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.LL.STwGr.1.json');\r\n\t\t};\r\n\t\tservice.D1MMGr1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.MM.Gr.1.json');\r\n\t\t};\r\n\t\tservice.D1MMRQ1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.MM.RQ.1.json');\r\n\t\t};\r\n\t\tservice.D1MMST1 = function(){\r\n\t\t\treturn $http.get('assets/json/D1.MM.ST.1.json');\r\n\t\t};\r\n\t}\r\n})();\n(function(){\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('awkwardAnnie')\r\n\t\t.directive('displayDialouge', displayDialouge);\r\n\r\n\t/** @ngInject */\r\n\tfunction displayDialouge(dialogueService,jsonFiles, $log){ //$log parameter goes in here\r\n\t\tvar directive = {\r\n\t\t\trestrict: 'E',\r\n\t\t\ttemplateUrl: 'app/components/dialogueManager/dialogue.html',\r\n\t\t\tscope: {\r\n\t\t\t\tmain: \"=\",\r\n\t\t\t\tselectedValue: \"=\",\r\n\t\t\t\tconvosWithMike: \"=\",\r\n\t\t\t\tanimationTitle: \"=\",\r\n\t\t\t\thideBranchingDialogue: \"=\"\r\n\t\t\t},\r\n\t\t\tcontroller: displayDialougeController,\r\n\t\t\tcontrollerAs: 'vm',\r\n\t\t\tbindToController: true\r\n\t\t};\r\n\t\treturn directive;\r\n\r\n\r\n\t\t/** @ngInject */\r\n\t\tfunction displayDialougeController($scope){\r\n\t\t\tvar vm = this;\r\n\t\t\tvar dialogueRoot;\r\n\t\t\tvar codeNode2;\r\n\t\t\t$scope.collection = [];\r\n\t\t\t$scope.selectedIndex = 0;\r\n\t\t\tvm.list = jsonFiles;\r\n\t\t\tvm.optionChanged = optionChanged;\r\n\t\t\tvm.showNode2 = showNode2;\r\n\t\t\tvm.showNode3 = showNode3;\r\n\t\t\tvm.showNode3Response = showNode3Response;\r\n\t\t\tvm.showContinue = false;\r\n\t\t\tvm.node1Hidden = false;\r\n\t\t\tvm.node2Hidden = true;\r\n\t\t\tvm.node3Hidden = true;\r\n\t\t\tvm.node3Response = true;\r\n\t\t\tvm.node3ResponseHidden = true;\r\n\r\n\t\t\tfunction optionChanged(jsonSelected){\r\n\t\t\t\tvar selectedConversation = $scope.selectedValue.id;\r\n\t\t\t\tchooseDialogueScript(selectedConversation);\r\n\t\t\t}\r\n\t\t\tfunction chooseDialogueScript(fileName){\r\n\t\t\t\tdialogueRoot = \"\";\r\n\t\t\t\tvm.choice = \"\";\r\n\t\t\t\tvm.choice2 = \"\";\r\n\t\t\t\tvm.choice3 = \"\";\r\n\t\t\t\tvm.node1Hidden = false;\r\n\t\t\t\tvm.node2Hidden = true;\r\n\t\t\t\tvm.node3Hidden = true;\r\n\t\t\t\tvm.node3ResponseHidden = true;\r\n\t\t\t\tvm.node1Response = \"\";\r\n\t\t\t\tvm.node2Response = \"\";\r\n\t\t\t\tvm.node3Response = \"\";\r\n\r\n\t\t\t\tdialogueService[fileName]().then(function(response){\r\n\t\t\t\t\tdialogueRoot = response.data;\r\n\t\t\t\t\tvm.choice = dialogueRoot.node1;\r\n\t\t\t\t\tvm.choice2 = dialogueRoot.node2;\r\n\t\t\t\t\tvm.choice3 = dialogueRoot.node3;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t\tFunctions\r\n\t\t\t*/\r\n\t\t\tfunction showNode2(choice){  // Hide previous button\r\n\t\t\t\t// vm.node1Hidden = false;\r\n\t\t\t\tvm.node2Hidden = false; //show if choice is clicked\r\n\t\t\t\tvm.node3Hidden = true;\r\n\t\t\t\tvm.node1Response = choice.NPC_Response;\r\n\t\t\t\tcodeNode2 = choice.code;\r\n\t\t\t\tvm.choice2 = dialogueRoot.node2[codeNode2]; //data needed to pull up choices\r\n\t\t\t}//end of showNode2\r\n\r\n\t\t\tfunction showNode3(choice){\r\n\t\t\t\tvm.node3Hidden = false;\r\n\t\t\t\tvm.node2Response = choice.NPC_Response;\r\n\t\t\t\tvar codeNode3 = choice.code;\r\n\t\t\t\tvm.choice3 = dialogueRoot.node3[codeNode3];\r\n\t\t\t}//end of showNode3\r\n\t\t\t\r\n\t\t\tfunction showNode3Response(choice){ //choice parameter\r\n\t\t\t\tvm.node3ResponseHidden = false;\r\n\t\t\t\tvm.node3Response = choice.NPC_Response;\r\n\t\t\t}\r\n\t\t\t// function clickContinue(){\r\n\t\t\t// \tvm.main.hideBranchingDialogue = true;\r\n\t\t\t// \tvm.chosenAnnie = \"\";\r\n\t\t\t// \tvm.npcResponse = \"\";\r\n\t\t\t// \tvm.node3Response = true;\r\n\t\t\t// \tvm.showContinue = false;\r\n\t\t\t// \tvm.main.animationTitle = \"\";\r\n\t\t\t// \t// Stats\r\n\t\t\t// \tvm.main.convosWithMike += 1;\r\n\t\t\t// \tvm.main.playerScore += 10; //update score\r\n\t\t\t// \t// Reset dialogue\r\n\t\t\t// \tchooseDialogueScript();\r\n\t\t\t// }\r\n\t\t}//end of controller\r\n\t}\r\n})();\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .controller('MainController', MainController);\r\n\r\n  /** @ngInject */\r\n  function MainController($log) {\r\n    var vm = this;\r\n    /* HERE :) */\r\n    // These names came from gameManagerRoom.service.js\r\n    //\"anniesOffice\" \"mikesOffice\" \"fransOffice\" \"lobby\" \"conferenceRoom\"\r\n    vm.roomKey = \"breakRoom\"; // The breakRoom is done if you need an example\r\n    \r\n\r\n    vm.animationTitle = \"\";\r\n    vm.playerScore = 0; // Main controller controls score, what characters were spoken too\r\n    vm.convosWithMike = 0;\r\n    vm.hideLinearDialogue = true;\r\n    // for design purposes this is set to false, switch back to true when done\r\n    vm.hideBranchingDialogue = false;\r\n  }\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($log) {\r\n\r\n    $log.debug('runBlock end');\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider, $urlRouterProvider) {\r\n    //remove url later, before release\r\n    // use different controller for welcome screen\r\n    $stateProvider\r\n      .state('home', {\r\n        url: '/',\r\n        templateUrl: 'app/main/main.html',\r\n        controller: 'MainController',\r\n        controllerAs: 'main'\r\n      });\r\n    $stateProvider\r\n      .state('RoomEngine', {\r\n        url: '/RoomEngine',\r\n        templateUrl: 'app/components/gameManager/awkwardAnnieGame.html',\r\n        controller: 'MainController',\r\n        controllerAs: 'main'\r\n      });\r\n    $stateProvider\r\n      .state('DialogueEngine', {\r\n        url: '/DialogueEngine',\r\n        templateUrl: 'app/components/dialogueManager/dialogueManager.html',\r\n        controller: 'MainController',\r\n        controllerAs: 'main'\r\n      });\r\n\r\n    $urlRouterProvider.otherwise('/');\r\n  }\r\n\r\n})();\r\n\n// /* global moment:false */\r\n// (function() {\r\n//   'use strict';\r\n\r\n//   angular\r\n//     .module('awkwardAnnie')\r\n//     .constant('moment', moment);\r\n\r\n// })();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('awkwardAnnie')\r\n    .config(config); //not a router\r\n\r\n  /** @ngInject */\r\n  function config($logProvider) {\r\n    // Enable log\r\n    $logProvider.debugEnabled(true);\r\n  }\r\n})();\r\n\nangular.module(\"awkwardAnnie\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=gameContainer><nav-bar player-score=main.playerScore></nav-bar><div class=intro><a href=#awkwardAnnieGame><div class=\\\"continue bottomRight\\\"></div></a></div></div>\");\n$templateCache.put(\"app/components/dialogueManager/dialogue.html\",\"<!-- Dialogue Choices --><select ng-options=\\\"item as item.label for item in vm.list track by item.id\\\" ng-model=selectedValue ng-change=vm.optionChanged(item.value)><option value=\\\"\\\" disabled selected>Choose Dialogue to Test</option></select><br><div class=dialogueChain><div class=playerChoices><div ng-if=\\\"vm.node1Hidden == false\\\"><div class=choices ng-repeat=\\\"choice in vm.choice\\\"><input class=btn type=button name={{choice.code}} value={{choice.PC_Text}} ng-click=vm.showNode2(choice)></div><div class=responses ng-if=\\\"vm.node2Hidden == false\\\">{{vm.node1Response}}</div></div></div><div class=playerChoices><div ng-if=\\\"vm.node2Hidden == false\\\"><div class=choices ng-repeat=\\\"choice2 in vm.choice2\\\"><input class=btn type=button name={{choice2.code}} value={{choice2.PC_Text}} ng-click=vm.showNode3(choice2)></div><div class=responses ng-if=\\\"vm.node3Hidden == false\\\">{{vm.node2Response}}</div></div></div><div class=playerChoices><div ng-if=\\\"vm.node3Hidden == false\\\"><div class=choices ng-repeat=\\\"choice3 in vm.choice3\\\"><input class=btn type=button name={{choice3.code}} value={{choice3.PC_Text}} ng-click=vm.showNode3Response(choice3)></div><div class=responses ng-if=\\\"vm.node3ResponseHidden == false\\\">{{vm.node3Response}}</div></div></div></div>\");\n$templateCache.put(\"app/components/dialogueManager/dialogueManager.html\",\"<div class=gameContainer><nav-bar></nav-bar><display-dialouge main=main></display-dialouge></div>\");\n$templateCache.put(\"app/components/gameManager/awkwardAnnieGame.html\",\"<!-- Called awkwardAnnieGame.html --><div class=gameContainer><nav-bar></nav-bar><!-- \t<select ng-options=\\\"item as item for item in vm.rooms\\\" ng-model=\\\"selectedRoom\\\" ng-change=\\\"vm.optionChanged(item.value)\\\">\\r\\n\t   <option value=\\'\\' disabled selected>Choose a Room to Test</option>\\r\\n\t</select> --><div class=main-pane><game-manager main=main room=main.roomKey></game-manager></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=navbar><a href=#>Awkward Annie</a><ul><li><a ng-href=#RoomEngine>Room Engine</a></li><li><a ng-href=#DialogueEngine>Dialogue Engine</a></li></ul></nav>\");}]);"],"sourceRoot":"/source/"}